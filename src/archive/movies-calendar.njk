---
layout: layouts/archive.njk
title: Film Log
permalink: /archive/movies/
hideHeader: true
---

<link rel="stylesheet" href="/assets/css/calendar.css">

{# Calendar Header - Sticky #}
<div class="calendar-header-sticky">
  <div class="calendar-header-container">
    <h2 class="calendar-page-title">Film Log</h2>
    <div class="calendar-header-controls">
      <span class="calendar-current-month" id="current-month">January</span>
      <select class="calendar-year-selector" id="year-selector">
        {% for year in moviesCalendar.years %}
          <option value="{{ year }}"{% if loop.first %} selected{% endif %}>{{ year }}</option>
        {% endfor %}
      </select>
    </div>
  </div>
</div>

{# Calendar Years #}
{% for year in moviesCalendar.years %}
  <div id="year-{{ year }}"
       class="calendar-year{% if loop.first %} active{% endif %}">

    {# Iterate through 12 months #}
    {% for month in moviesCalendar.calendarsByYear[year].months %}
      <div class="calendar-month" data-month-name="{{ month.name }}">

        {# Day headers (Mon-Sun) #}
        <div class="calendar-day-headers">
          <span>Mon</span>
          <span>Tue</span>
          <span>Wed</span>
          <span>Thu</span>
          <span>Fri</span>
          <span>Sat</span>
          <span>Sun</span>
        </div>

        {# Calendar grid #}
        <div class="calendar-grid">
          {% for week in month.weeks %}
            {% for day in week %}
              {% if day.isCurrentMonth %}
                <div class="calendar-day
                            {% if day.movies.length === 0 and not day.quote %}empty{% endif %}">

                  {# Day number - positioned at top #}
                  <span class="calendar-day-number">{{ day.dayNum }}</span>

                  {# Movie image (only first movie) #}
                  {% if day.movies.length > 0 %}
                    <img class="calendar-day-image"
                         src="{{ day.movies[0].image }}"
                         alt="{{ day.movies[0].title }}"
                         loading="lazy">
                  {% endif %}

                  {# Movie info below image (hidden by default, shows on hover) #}
                  {% if day.movies.length > 0 %}
                    <div class="calendar-day-info">
                      {# Custom quote takes precedence #}
                      {% if day.quote %}
                        <div class="calendar-day-quote">{{ day.quote }}</div>
                      {% else %}
                        {# Show all movies watched that day #}
                        {% for movie in day.movies %}
                          <div class="calendar-movie">
                            <a href="{{ movie.link }}"
                               target="_blank"
                               rel="noopener"
                               class="calendar-day-title">
                              {{ movie.title }} ({{ movie.year }})
                            </a>
                            {% if movie.rating > 0 %}
                              <div class="calendar-day-rating">
                                {% for i in range(movie.rating) %}â˜…{% endfor %}
                              </div>
                            {% endif %}
                          </div>
                        {% endfor %}
                      {% endif %}
                    </div>
                  {% endif %}
                </div>
              {% else %}
                {# Empty cell for days outside current month - maintains grid alignment #}
                <div class="calendar-day-empty"></div>
              {% endif %}
            {% endfor %}
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>
{% endfor %}

{# Enhanced tab switching with JavaScript #}
<script src="/assets/js/calendar.js"></script>
